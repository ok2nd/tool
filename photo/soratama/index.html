<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="description" content="by https://rest-term.com/archives/2991/">
<title>≪SORA-TAMA Transform (Fish-Eye)≫サンプル</title>
<script src="js/jquery.min.js"></script>
<script src="js/cavin.js"></script>
<script src="js/fisheye.js"></script>
<script src="js/fisheye-client.js"></script>
<script>
$(window).load(function(){
	var element = document.getElementById('Image');
	$('#Result').attr('width', element.naturalWidth);
	$('#Result').attr('height', element.naturalHeight);
});
document.onkeydown = function (event) {
	if (event.keyCode >= 49 && event.keyCode <=54) {	// キーボード 1～6
		var key = event.keyCode - 48;
		location.href = '?m='+key;
	}
}
</script>
</head>
<body>
<h3 style="margin:4px 0;">SORA-TAMA Transform (Fish-Eye)</h3>
<!--
	PHP版：<p style="color:#f80;margin:2px 0;">キーボードの1～6を押すと画像切替できます。</p>	
	https://ok2nd.sakura.ne.jp/soratama/
-->
<div>
	<label for="Radius">そらたま（宙玉）半径</label>
	<select id="Radius">
		<option value="40">40</option>
		<option value="60">60</option>
		<option value="80">80</option>
		<option value="100" selected>100</option>
		<option value="120">120</option>
		<option value="140">140</option>
	</select>
	<label for="BlurSize">背景ぼかしウィンドウ半径</label>
	<select id="BlurSize">
		<option value="1">1</option>
		<option value="3">3</option>
		<option value="5" selected>5</option>
		<option value="7">7</option>
		<option value="9">9</option>
		<option value="11">11</option>
	</select>
	<label for="Type0">魚眼変換のみ&emsp;on</label>
	<input id="Type0" type="radio" name="view" value="0">
	<label for="Type1">off</label>
	<input id="Type1" type="radio" name="view" value="1" checked="checked">
</div>
<div>
	<button id="Button">そらたま（宙玉）変換</button>
	<span id="Info" style="display:none;">process time:</span>
</div>
<div class="wrap">
	<img id="Image" src="img/demo1.jpg">
	<canvas id="Result"></canvas>
</div>
<footer>
<a href="https://rest-term.com/archives/2991/" target="_blank">Thanks to https://rest-term.com/archives/2991/</a><br>
<a href="https://2ndart.hatenablog.com/" target="_blank">晴歩雨描</a>
</footer>
</body>
</html>
